{"mappings":"kBAAMA,EAAiBC,SAASC,eAAe,mBACzCC,EAASF,SAASC,eAAe,cAEnCE,GAAQ,EACRC,EAAe,EACfC,EAAc,EACdC,EAAAA,GACAC,GAAgB,MAKhBC,EAAAA,uGAOJ,SAAAC,IACEL,IACIA,IAAiBC,IACnBF,GAAQ,EACRD,EAAOQ,QAAS,GAKpB,SAAAC,EAAuBC,EAASC,aACnBC,KAAOD,EAChBD,EAAQG,aAAaD,EAAKD,EAAWC,IAkCzCE,eAAAC,cAEUC,QAAiBC,MAAMX,GAC7BF,QAAoBY,EAASE,OA/B/BhB,EAAe,EACfC,EAAcC,EAAYe,OAE1Bf,EAAYgB,SAASC,UAEbC,EAAOxB,SAASyB,cAAc,KACpCd,EAAca,EAAAA,CACZE,KAAMH,EAAMI,MAAMC,KAClBC,OAAQ,iBAGJC,EAAM9B,SAASyB,cAAc,OACnCd,EAAcmB,EAAAA,CACZC,IAAKR,EAAMS,KAAKC,QAChBC,IAAKX,EAAMY,gBACXC,MAAOb,EAAMY,kBAIfL,EAAIO,iBAAiB,OAAQ5B,GAG7Be,EAAKc,YAAYR,GACjB/B,EAAeuC,YAAYd,MAUvBjB,IAtDNC,EAAAA,sGAuD6B,KACzBD,GAAgB,SAEXgC,KAMXC,OAAOH,iBAAiB,UAAU,KAE9BG,OAAOC,YAAcD,OAAOE,SAAW1C,SAAS2C,KAAKC,aAAe,KACpEzC,IAEAA,GAAQ,EACRc,QAKJA","sources":["./src/script.js"],"sourcesContent":["const imageContainer = document.getElementById(\"image-container\");\r\nconst loader = document.getElementById(\"loader\");\r\n\r\nlet ready = false;\r\nlet imagesLoaded = 0;\r\nlet totalImages = 0;\r\nlet photosArray = [];\r\nlet isInitialLoad = true;\r\n\r\n// Unsplash API\r\nlet initialCount = 5;\r\nconst apiKey = \"rEeDq9-DE5s-0qzvWlktZElpdFybK95Q_gSbvm83310\";\r\nlet apiUrl = `https://api.unsplash.com/photos/random?client_id=${apiKey}&count=${initialCount}`;\r\n\r\nfunction updateAPIURLWithNewCount(picCount) {\r\n  apiUrl = `https://api.unsplash.com/photos/random?client_id=${apiKey}&count=${picCount}`;\r\n}\r\n\r\n// Check if all images were loaded\r\nfunction imageLoaded() {\r\n  imagesLoaded++;\r\n  if (imagesLoaded === totalImages) {\r\n    ready = true;\r\n    loader.hidden = true;\r\n  }\r\n}\r\n\r\n// Helper function to set attributes on DOM Elements\r\nfunction setAttributes(element, attributes) {\r\n  for (const key in attributes) {\r\n    element.setAttribute(key, attributes[key]);\r\n  }\r\n}\r\n\r\n// Create Elements for Links, add to DOM\r\nfunction displayPhotos() {\r\n  imagesLoaded = 0;\r\n  totalImages = photosArray.length;\r\n  // Run function for each object in photo arrays\r\n  photosArray.forEach((photo) => {\r\n    // Create <a> to link to Unsplash\r\n    const item = document.createElement(\"a\");\r\n    setAttributes(item, {\r\n      href: photo.links.html,\r\n      target: \"_blank\",\r\n    });\r\n\r\n    const img = document.createElement(\"img\");\r\n    setAttributes(img, {\r\n      src: photo.urls.regular,\r\n      alt: photo.alt_description,\r\n      title: photo.alt_description,\r\n    });\r\n\r\n    // Event Listener, check when each is finished loading\r\n    img.addEventListener(\"load\", imageLoaded);\r\n\r\n    // Put <img> inside <a>, then put both inside imageContainer element\r\n    item.appendChild(img);\r\n    imageContainer.appendChild(item);\r\n  });\r\n}\r\n\r\n// Get photos from Unsplash API\r\nasync function getPhotos() {\r\n  try {\r\n    const response = await fetch(apiUrl);\r\n    photosArray = await response.json();\r\n    displayPhotos();\r\n    if (isInitialLoad) {\r\n      updateAPIURLWithNewCount(20);\r\n      isInitialLoad = false;\r\n    }\r\n  } catch (error) {\r\n    // Catch Error Here\r\n  }\r\n}\r\n\r\n// Check to see if scrolling near bottom of page, Load More Photos\r\nwindow.addEventListener(\"scroll\", () => {\r\n  if (\r\n    window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000 &&\r\n    ready\r\n  ) {\r\n    ready = false;\r\n    getPhotos();\r\n  }\r\n});\r\n\r\n// On Load\r\ngetPhotos();\r\n"],"names":["$ab82335d0333bc61684b565fa6955dcc$var$imageContainer","document","getElementById","$ab82335d0333bc61684b565fa6955dcc$var$loader","$ab82335d0333bc61684b565fa6955dcc$var$ready","$ab82335d0333bc61684b565fa6955dcc$var$imagesLoaded","$ab82335d0333bc61684b565fa6955dcc$var$totalImages","$ab82335d0333bc61684b565fa6955dcc$var$photosArray","$ab82335d0333bc61684b565fa6955dcc$var$isInitialLoad","$ab82335d0333bc61684b565fa6955dcc$var$apiUrl","$ab82335d0333bc61684b565fa6955dcc$var$imageLoaded","hidden","$ab82335d0333bc61684b565fa6955dcc$var$setAttributes","element","attributes","key","setAttribute","async","$ab82335d0333bc61684b565fa6955dcc$var$getPhotos","response","fetch","json","length","forEach","photo","item","createElement","href","links","html","target","img","src","urls","regular","alt","alt_description","title","addEventListener","appendChild","error","window","innerHeight","scrollY","body","offsetHeight"],"version":3,"file":"index.20c70b6b.js.map"}